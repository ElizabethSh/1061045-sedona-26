var button=document.querySelector(".button-search"),popup=document.querySelector(".booking-form"),checkInDate=popup.querySelector("[name=check-in-date]"),checkOutDate=popup.querySelector("[name=check-out-date]"),adultsAmount=popup.querySelector("[name=adults-amount]"),childrenAmount=popup.querySelector("[name=children-amount]"),isStorageSupport=!0,storage="";document.addEventListener("DOMContentLoaded",function(e){popup.classList.add("modal-close")});try{storage=localStorage.getItem("adultsAmount"),storage=localStorage.getItem("childrenAmount")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("show"),popup.classList.toggle("modal-close"),popup.classList.contains("modal-close")&&(popup.classList.remove("modal-error"),popup.classList.remove("show"))}),popup.addEventListener("submit",function(e){checkInDate.value&&checkOutDate.value&&adultsAmount.value&&childrenAmount.value?isStorageSupport&&(localStorage.setItem("adultsAmount",adultsAmount.value),localStorage.setItem("childrenAmount",childrenAmount.value)):(popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,e.preventDefault(),popup.classList.remove("show"),popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.add("modal-close"),popup.classList.remove("modal-error"),popup.classList.remove("show"))});
